class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      page: 'home',
      user: {}
    };
    App.prototype.handleNext = App.prototype.handleNext.bind(this);
  }

  handleNext(e) {
    e.preventDefault(); // store input field name and value
    // as a key value pair in an array of objects

    var $form = $(e.target);
    var formData = $form.serializeArray();
    var newUser = Object.assign({}, this.state.user);

    if (formData.length > 0) {
      formData.forEach(input => {
        newUser[input["name"]] = input["value"];
      });
    }

    console.log(newUser); // set current page state based on where next is clicked

    var currentPage = this.state.page;
    var nextPage;

    if (currentPage === 'home') {
      nextPage = 'form one';
    }

    if (currentPage === 'form one') {
      nextPage = 'form two'; // api call to post data from form one
    }

    if (currentPage === 'form two') {
      nextPage = 'form three'; // api call to post data from form two
    }

    if (currentPage === 'form three') {
      nextPage = 'confirmation';
    } // api call to post data from form three


    if (currentPage === 'confirmation') {
      nextPage = 'home';
      newUser = {};
    }

    this.setState({
      page: nextPage,
      user: newUser
    });
  }

  render() {
    var currentPage = 'home';

    if (this.state.page === 'home') {
      return /*#__PURE__*/React.createElement("div", {
        className: "checkout"
      }, /*#__PURE__*/React.createElement("p", {
        className: "checkout-cart"
      }, "Cart:"), /*#__PURE__*/React.createElement("img", {
        src: "quantum.png",
        alt: "nuka cola quantum",
        height: "100",
        className: "checkout-image"
      }), /*#__PURE__*/React.createElement("p", {
        className: "checkout-quantity"
      }, "Quantity: 12"), /*#__PURE__*/React.createElement("button", {
        type: "button",
        className: "checkout-button",
        onClick: e => this.handleNext(e)
      }, "Checkout"));
    } else if (this.state.page === 'form one') {
      return /*#__PURE__*/React.createElement(FormOne, null);
    } else if (this.state.page === 'form two') {
      return /*#__PURE__*/React.createElement(FormTwo, null);
    } else if (this.state.page === 'form three') {
      return /*#__PURE__*/React.createElement(FormThree, null);
    } else if (this.state.page === 'confirmation') {
      return /*#__PURE__*/React.createElement(Confirmation, {
        userData: this.state.user
      });
    }
  }

} // form one component


var FormOne = function (props) {
  var currentPage = 'form one';
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("form", {
    className: "form form-one",
    onSubmit: e => App.prototype.handleNext(e)
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "name",
    id: "name",
    maxLength: "30",
    placeholder: "Name"
  }), /*#__PURE__*/React.createElement("input", {
    type: "email",
    name: "email",
    id: "email",
    placeholder: "Email Address"
  }), /*#__PURE__*/React.createElement("input", {
    type: "password",
    name: "password",
    id: "password",
    maxLength: "30",
    placeholder: "Password"
  }), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    name: "form-one-next",
    className: "next-button"
  }, "Next")));
}; // form two component


var FormTwo = function (props) {
  var currentPage = 'form two';
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("form", {
    className: "form form-two",
    onSubmit: e => App.prototype.handleNext(e)
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "addressOne",
    id: "addressOne",
    placeholder: "Address Line 1"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "addressTwo",
    id: "addressTwo",
    placeholder: "Address Line 2"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "city",
    id: "city",
    maxLength: "30",
    placeholder: "City"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "state",
    id: "state",
    maxLength: "23",
    placeholder: "State"
  }), /*#__PURE__*/React.createElement("input", {
    type: "number",
    name: "zip",
    id: "zip",
    maxLength: "12",
    placeholder: "Zip Code"
  }), /*#__PURE__*/React.createElement("input", {
    type: "tel",
    name: "tel",
    id: "tel",
    placeholder: "Phone"
  }), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    name: "form-two-next",
    className: "next-button"
  }, "Next")));
}; // form three component


var FormThree = function (props) {
  var currentPage = 'form three';
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("form", {
    className: "form form-two",
    onSubmit: e => App.prototype.handleNext(e)
  }, /*#__PURE__*/React.createElement("input", {
    type: "number",
    name: "creditCard",
    id: "creditCard",
    maxLength: "20",
    placeholder: "Credit Card"
  }), /*#__PURE__*/React.createElement("input", {
    type: "date",
    name: "expiration",
    id: "expiration",
    placeholder: "Expiration Date"
  }), /*#__PURE__*/React.createElement("input", {
    type: "number ",
    name: "cvv",
    id: "cvv",
    maxLength: "4",
    placeholder: "CVV"
  }), /*#__PURE__*/React.createElement("input", {
    type: "number",
    name: "billingZip",
    id: "billingZip",
    maxLength: "12",
    placeholder: "Billing Zip Code"
  }), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    name: "form-three-next",
    className: "next-button"
  }, "Next")));
}; // confirmation component\


var Confirmation = function (props) {
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Contact Info"), /*#__PURE__*/React.createElement("p", null, "Name: ", props.userData.name), /*#__PURE__*/React.createElement("p", null, "Address line 1: ", props.userData.addressOne), /*#__PURE__*/React.createElement("p", null, "Address line 2: ", props.userData.addressTwo), /*#__PURE__*/React.createElement("p", null, "City: ", props.userData.city), /*#__PURE__*/React.createElement("p", null, "State: ", props.userData.state), /*#__PURE__*/React.createElement("p", null, "Zip Code: ", props.userData.zip), /*#__PURE__*/React.createElement("h3", null, "Billing Info"), /*#__PURE__*/React.createElement("p", null, "Credit Card: ", props.userData.creditCard), /*#__PURE__*/React.createElement("p", null, "CVV: ", props.userData.cvv), /*#__PURE__*/React.createElement("p", null, "Expiration Date: ", props.userData.expiration), /*#__PURE__*/React.createElement("p", null, "Billing Zip: ", props.userData.billingZip), /*#__PURE__*/React.createElement("button", {
    type: "button",
    name: "confirmation-button",
    className: "confirmation-button",
    onClick: e => App.prototype.handleNext(e)
  }, "Purchase"));
}; // export default App;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2NsaWVudC9jb21wb25lbnRzL0FwcC5qc3giXSwibmFtZXMiOlsiQXBwIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJwYWdlIiwidXNlciIsInByb3RvdHlwZSIsImhhbmRsZU5leHQiLCJiaW5kIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJGZvcm0iLCIkIiwidGFyZ2V0IiwiZm9ybURhdGEiLCJzZXJpYWxpemVBcnJheSIsIm5ld1VzZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJsZW5ndGgiLCJmb3JFYWNoIiwiaW5wdXQiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFBhZ2UiLCJuZXh0UGFnZSIsInNldFN0YXRlIiwicmVuZGVyIiwiRm9ybU9uZSIsIkZvcm1Ud28iLCJGb3JtVGhyZWUiLCJDb25maXJtYXRpb24iLCJ1c2VyRGF0YSIsIm5hbWUiLCJhZGRyZXNzT25lIiwiYWRkcmVzc1R3byIsImNpdHkiLCJ6aXAiLCJjcmVkaXRDYXJkIiwiY3Z2IiwiZXhwaXJhdGlvbiIsImJpbGxpbmdaaXAiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQU4sU0FBa0JDLEtBQUssQ0FBQ0MsU0FBeEIsQ0FBa0M7QUFDaENDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsTUFBQUEsSUFBSSxFQUFFLE1BREs7QUFFWEMsTUFBQUEsSUFBSSxFQUFFO0FBRkssS0FBYjtBQUtBUCxJQUFBQSxHQUFHLENBQUNRLFNBQUosQ0FBY0MsVUFBZCxHQUEyQlQsR0FBRyxDQUFDUSxTQUFKLENBQWNDLFVBQWQsQ0FBeUJDLElBQXpCLENBQThCLElBQTlCLENBQTNCO0FBQ0Q7O0FBRURELEVBQUFBLFVBQVUsQ0FBRUUsQ0FBRixFQUFLO0FBQ2JBLElBQUFBLENBQUMsQ0FBQ0MsY0FBRixHQURhLENBR2I7QUFDQTs7QUFDQSxRQUFJQyxLQUFLLEdB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c0IsWUFBWSxHQUFHLFVBQVU3QixLQUFWLEVBQWlCO0FBQ2xDLHNCQUNFLDhDQUNFLCtDQURGLGVBRUkseUNBQVVBLEtBQUssQ0FBQzhCLFFBQU4sQ0FBZUMsSUFBekIsQ0FGSixlQUdJLG1EQUFvQi9CLEtBQUssQ0FBQzhCLFFBQU4sQ0FBZUUsVUFBbkMsQ0FISixlQUlJLG1EQUFvQmhDLEtBQUssQ0FBQzhCLFFBQU4sQ0FBZUcsVUFBbkMsQ0FKSixlQUtJLHlDQUFVakMsS0FBSyxDQUFDOEIsUUFBTixDQUFlSSxJQUF6QixDQUxKLGVBTUksMENBQVdsQyxLQUFLLENBQUM4QixRQUFOLENBQWU3QixLQUExQixDQU5KLGVBT0ksNkNBQWNELEtBQUssQ0FBQzhCLFFBQU4sQ0FBZUssR0FBN0IsQ0FQSixlQVFFLCtDQVJGLGVBU0ksZ0RBQWlCbkMsS0FBSyxDQUFDOEIsUUFBTixDQUFlTSxVQUFoQyxDQVRKLGVBVUksd0NBQVNwQyxLQUFLLENBQUM4QixRQUFOLENBQWVPLEdBQXhCLENBVkosZUFXSSxvREFBcUJyQyxLQUFLLENBQUM4QixRQUFOLENBQWVRLFVBQXBDLENBWEosZUFZSSxnREFBaUJ0QyxLQUFLLENBQUM4QixRQUFOLENBQWVTLFVBQWhDLENBWkosZUFhRTtBQUFRLElBQUEsSUFBSSxFQUFDLFFBQWI7QUFBc0IsSUFBQSxJQUFJLEVBQUMscUJBQTNCO0FBQWlELElBQUEsU0FBUyxFQUFDLHFCQUEzRDtBQUFpRixJQUFBLE9BQU8sRUFBR2hDLENBQUQsSUFBT1gsR0FBRyxDQUFDUSxTQUFKLENBQWNDLFVBQWQsQ0FBeUJFLENBQXpCO0FBQWpHLGdCQWJGLENBREY7QUFpQkQsQ0FsQkQsQyxDQW9CQSIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBwYWdlOiAnaG9tZScsXG4gICAgICB1c2VyOiB7fVxuICAgIH07XG5cbiAgICBBcHAucHJvdG90eXBlLmhhbmRsZU5leHQgPSBBcHAucHJvdG90eXBlLmhhbmRsZU5leHQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZU5leHQgKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBzdG9yZSBpbnB1dCBmaWVsZCBuYW1lIGFuZCB2YWx1ZVxuICAgIC8vIGFzIGEga2V5IHZhbHVlIHBhaXIgaW4gYW4gYXJyYXkgb2Ygb2JqZWN0c1xuICAgIHZhciAkZm9ybSA9ICQoZS50YXJnZXQpO1xuICAgIHZhciBmb3JtRGF0YSA9ICRmb3JtLnNlcmlhbGl6ZUFycmF5KCk7XG4gICAgdmFyIG5ld1VzZXIgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLnVzZXIpO1xuXG4gICAgaWYgKGZvcm1EYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvcm1EYXRhLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICAgIG5ld1VzZXJbaW5wdXRbXCJuYW1lXCJdXSA9IGlucHV0W1widmFsdWVcIl07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhuZXdVc2VyKTtcblxuICAgIC8vIHNldCBjdXJyZW50IHBhZ2Ugc3RhdGUgYmFzZWQgb24gd2hlcmUgbmV4dCBpcyBjbGlja2VkXG4gICAgdmFyIGN1cnJlbnRQYWdlID0gdGhpcy5zdGF0ZS5wYWdlO1xuICAgIHZhciBuZXh0UGFnZTtcbiAgICBpZiAoY3VycmVudFBhZ2UgPT09ICdob21lJykgeyBuZXh0UGFnZSA9ICdmb3JtIG9uZSc7IH1cbiAgICBpZiAoY3VycmVudFBhZ2UgPT09ICdmb3JtIG9uZScpIHtcbiAgICAgIG5leHRQYWdlID0gJ2Zvcm0gdHdvJztcblxuICAgICAgLy8gYXBpIGNhbGwgdG8gcG9zdCBkYXRhIGZyb20gZm9ybSBvbmVcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQYWdlID09PSAnZm9ybSB0d28nKSB7XG4gICAgICBuZXh0UGFnZSA9ICdmb3JtIHRocmVlJztcblxuICAgICAgLy8gYXBpIGNhbGwgdG8gcG9zdCBkYXRhIGZyb20gZm9ybSB0d29cbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQYWdlID09PSAnZm9ybSB0aHJlZScpIHsgbmV4dFBhZ2UgPSAnY29uZmlybWF0aW9uJzsgfVxuXG4gICAgICAvLyBhcGkgY2FsbCB0byBwb3N0IGRhdGEgZnJvbSBmb3JtIHRocmVlXG4gICAgaWYgKGN1cnJlbnRQYWdlID09PSAnY29uZmlybWF0aW9uJykge1xuICAgICAgbmV4dFBhZ2UgPSAnaG9tZSc7XG4gICAgICBuZXdVc2VyID0ge307XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcGFnZTogbmV4dFBhZ2UsXG4gICAgICB1c2VyOiBuZXdVc2VyXG4gICAgfSk7XG4gIH1cblxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VycmVudFBhZ2UgPSAnaG9tZSc7XG4gICAgaWYgKHRoaXMuc3RhdGUucGFnZSA9PT0gJ2hvbWUnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrb3V0XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2hlY2tvdXQtY2FydFwiPkNhcnQ6PC9wPlxuICAgICAgICAgIDxpbWcgc3JjPVwicXVhbnR1bS5wbmdcIiBhbHQ9XCJudWthIGNvbGEgcXVhbnR1bVwiIGhlaWdodD1cIjEwMFwiIGNsYXNzTmFtZT1cImNoZWNrb3V0LWltYWdlXCI+PC9pbWc+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2hlY2tvdXQtcXVhbnRpdHlcIj5RdWFudGl0eTogMTI8L3A+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2hlY2tvdXQtYnV0dG9uXCIgb25DbGljaz17KGUpID0+IHRoaXMuaGFuZGxlTmV4dChlKX0+Q2hlY2tvdXQ8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5wYWdlID09PSAnZm9ybSBvbmUnKSB7XG4gICAgICByZXR1cm4gPEZvcm1PbmUgLz47XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnBhZ2UgPT09ICdmb3JtIHR3bycpIHtcbiAgICAgIHJldHVybiA8Rm9ybVR3byAvPjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUucGFnZSA9PT0gJ2Zvcm0gdGhyZWUnKSB7XG4gICAgICByZXR1cm4gPEZvcm1UaHJlZSAvPjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUucGFnZSA9PT0gJ2NvbmZpcm1hdGlvbicpIHtcbiAgICAgIHJldHVybiA8Q29uZmlybWF0aW9uIHVzZXJEYXRhPXt0aGlzLnN0YXRlLnVzZXJ9Lz47XG4gICAgfVxuICB9XG59XG5cbi8vIGZvcm0gb25lIGNvbXBvbmVudFxudmFyIEZvcm1PbmUgPSBmdW5jdGlvbihwcm9wcykge1xuICB2YXIgY3VycmVudFBhZ2UgPSAnZm9ybSBvbmUnO1xuICByZXR1cm4oXG4gICAgPGRpdj5cbiAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImZvcm0gZm9ybS1vbmVcIiBvblN1Ym1pdD17KGUpID0+IEFwcC5wcm90b3R5cGUuaGFuZGxlTmV4dChlKX0+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJuYW1lXCIgaWQ9XCJuYW1lXCIgbWF4TGVuZ3RoPVwiMzBcIiBwbGFjZWhvbGRlcj1cIk5hbWVcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBpZD1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJFbWFpbCBBZGRyZXNzXCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgaWQ9XCJwYXNzd29yZFwiIG1heExlbmd0aD1cIjMwXCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiLz5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgbmFtZT1cImZvcm0tb25lLW5leHRcIiBjbGFzc05hbWU9XCJuZXh0LWJ1dHRvblwiPk5leHQ8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gZm9ybSB0d28gY29tcG9uZW50XG52YXIgRm9ybVR3byA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHZhciBjdXJyZW50UGFnZSA9ICdmb3JtIHR3byc7XG4gIHJldHVybihcbiAgICA8ZGl2PlxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiZm9ybSBmb3JtLXR3b1wiIG9uU3VibWl0PXsoZSkgPT4gQXBwLnByb3RvdHlwZS5oYW5kbGVOZXh0KGUpfT5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImFkZHJlc3NPbmVcIiBpZD1cImFkZHJlc3NPbmVcIiBwbGFjZWhvbGRlcj1cIkFkZHJlc3MgTGluZSAxXCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiYWRkcmVzc1R3b1wiIGlkPVwiYWRkcmVzc1R3b1wiIHBsYWNlaG9sZGVyPVwiQWRkcmVzcyBMaW5lIDJcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJjaXR5XCIgaWQ9XCJjaXR5XCIgbWF4TGVuZ3RoPVwiMzBcIiBwbGFjZWhvbGRlcj1cIkNpdHlcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzdGF0ZVwiIGlkPVwic3RhdGVcIiBtYXhMZW5ndGg9XCIyM1wiIHBsYWNlaG9sZGVyPVwiU3RhdGVcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cInppcFwiIGlkPVwiemlwXCIgbWF4TGVuZ3RoPVwiMTJcIiBwbGFjZWhvbGRlcj1cIlppcCBDb2RlXCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRlbFwiIG5hbWU9XCJ0ZWxcIiBpZD1cInRlbFwiIHBsYWNlaG9sZGVyPVwiUGhvbmVcIi8+XG4gICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJmb3JtLXR3by1uZXh0XCIgY2xhc3NOYW1lPVwibmV4dC1idXR0b25cIj5OZXh0PC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIGZvcm0gdGhyZWUgY29tcG9uZW50XG52YXIgRm9ybVRocmVlID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgdmFyIGN1cnJlbnRQYWdlID0gJ2Zvcm0gdGhyZWUnO1xuICByZXR1cm4oXG4gICAgPGRpdj5cbiAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImZvcm0gZm9ybS10d29cIiBvblN1Ym1pdD17KGUpID0+IEFwcC5wcm90b3R5cGUuaGFuZGxlTmV4dChlKX0+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cImNyZWRpdENhcmRcIiBpZD1cImNyZWRpdENhcmRcIiBtYXhMZW5ndGg9XCIyMFwiIHBsYWNlaG9sZGVyPVwiQ3JlZGl0IENhcmRcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIG5hbWU9XCJleHBpcmF0aW9uXCIgaWQ9XCJleHBpcmF0aW9uXCIgcGxhY2Vob2xkZXI9XCJFeHBpcmF0aW9uIERhdGVcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyIFwibmFtZT1cImN2dlwiIGlkPVwiY3Z2XCIgbWF4TGVuZ3RoPVwiNFwiIHBsYWNlaG9sZGVyPVwiQ1ZWXCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJiaWxsaW5nWmlwXCIgaWQ9XCJiaWxsaW5nWmlwXCIgbWF4TGVuZ3RoPVwiMTJcIiBwbGFjZWhvbGRlcj1cIkJpbGxpbmcgWmlwIENvZGVcIi8+XG4gICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJmb3JtLXRocmVlLW5leHRcIiBjbGFzc05hbWU9XCJuZXh0LWJ1dHRvblwiPk5leHQ8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIGNvbmZpcm1hdGlvbiBjb21wb25lbnRcXFxudmFyIENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8aDM+Q29udGFjdCBJbmZvPC9oMz5cbiAgICAgICAgPHA+TmFtZToge3Byb3BzLnVzZXJEYXRhLm5hbWV9PC9wPlxuICAgICAgICA8cD5BZGRyZXNzIGxpbmUgMToge3Byb3BzLnVzZXJEYXRhLmFkZHJlc3NPbmV9PC9wPlxuICAgICAgICA8cD5BZGRyZXNzIGxpbmUgMjoge3Byb3BzLnVzZXJEYXRhLmFkZHJlc3NUd299PC9wPlxuICAgICAgICA8cD5DaXR5OiB7cHJvcHMudXNlckRhdGEuY2l0eX08L3A+XG4gICAgICAgIDxwPlN0YXRlOiB7cHJvcHMudXNlckRhdGEuc3RhdGV9PC9wPlxuICAgICAgICA8cD5aaXAgQ29kZToge3Byb3BzLnVzZXJEYXRhLnppcH08L3A+XG4gICAgICA8aDM+QmlsbGluZyBJbmZvPC9oMz5cbiAgICAgICAgPHA+Q3JlZGl0IENhcmQ6IHtwcm9wcy51c2VyRGF0YS5jcmVkaXRDYXJkfTwvcD5cbiAgICAgICAgPHA+Q1ZWOiB7cHJvcHMudXNlckRhdGEuY3Z2fTwvcD5cbiAgICAgICAgPHA+RXhwaXJhdGlvbiBEYXRlOiB7cHJvcHMudXNlckRhdGEuZXhwaXJhdGlvbn08L3A+XG4gICAgICAgIDxwPkJpbGxpbmcgWmlwOiB7cHJvcHMudXNlckRhdGEuYmlsbGluZ1ppcH08L3A+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBuYW1lPVwiY29uZmlybWF0aW9uLWJ1dHRvblwiIGNsYXNzTmFtZT1cImNvbmZpcm1hdGlvbi1idXR0b25cIiBvbkNsaWNrPXsoZSkgPT4gQXBwLnByb3RvdHlwZS5oYW5kbGVOZXh0KGUpfT5QdXJjaGFzZTwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gZXhwb3J0IGRlZmF1bHQgQXBwOyJdfQ==