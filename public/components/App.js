class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      page: 'home',
      user: {}
    };
    App.prototype.handleNext = App.prototype.handleNext.bind(this);
  }

  handleNext(e) {
    e.preventDefault(); // store input field name and value
    // as a key value pair in an array of objects

    var $form = $(e.target);
    var formData = $form.serializeArray();
    var newUser = Object.assign({}, this.state.user); // inserting form data into an object which we will use to set state

    if (formData.length > 0) {
      formData.forEach(input => {
        newUser[input["name"]] = input["value"];
      });
    }

    console.log(newUser); //store this context in a variable for promise function

    var self = this; // set current page state based on where next is clicked

    var currentPage = this.state.page;
    var nextPage;

    if (currentPage === 'home') {
      nextPage = 'form one';
    }

    if (currentPage === 'form one') {
      nextPage = 'form two'; // api call to post data from form one

      axios.post('http://localhost:3000/formOne', {
        name: newUser['name'],
        email: newUser['email'],
        password: newUser['password']
      }).then(response => {
        console.log(response); //set state with the id from the database

        newUser['id'] = response.data;
        self.setState({
          page: nextPage,
          user: newUser
        });
      }).catch(error => {
        console.log(error);
      });
    }

    if (currentPage === 'form two') {
      nextPage = 'form three'; // api call to post data from form two

      axios.post('http://localhost:3000/formTwo', {
        id: newUser['id'],
        addressOne: newUser['addressOne'],
        addressTwo: newUser['addressTwo'],
        city: newUser['city'],
        state: newUser['state'],
        zip: newUser['zip'],
        tel: newUser['tel']
      }).then(response => {
        console.log(response.data);
        self.setState({
          page: nextPage,
          user: newUser
        });
      }).catch(error => {
        console.log(error);
      });
    }

    if (currentPage === 'form three') {
      nextPage = 'confirmation'; // api call to post data from form three

      axios.post('http://localhost:3000/formThree', {
        id: newUser['id'],
        creditCard: newUser['creditCard'],
        cvv: newUser['cvv'],
        expiration: newUser['expiration'],
        billingZip: newUser['billingZip']
      }).then(response => {
        console.log(response.data);
        self.setState({
          page: nextPage,
          user: newUser
        });
      }).catch(error => {
        console.log(error);
      });
    }

    if (currentPage === 'confirmation') {
      nextPage = 'home';
      newUser = {};
      self.setState({
        page: nextPage,
        user: newUser
      });
    }
  }

  render() {
    var currentPage = 'home';

    if (this.state.page === 'home') {
      return /*#__PURE__*/React.createElement("div", {
        className: "checkout"
      }, /*#__PURE__*/React.createElement("p", {
        className: "checkout-cart"
      }, "Cart:"), /*#__PURE__*/React.createElement("img", {
        src: "quantum.png",
        alt: "nuka cola quantum",
        height: "100",
        className: "checkout-image"
      }), /*#__PURE__*/React.createElement("p", {
        className: "checkout-quantity"
      }, "Quantity: 12"), /*#__PURE__*/React.createElement("button", {
        type: "button",
        className: "checkout-button",
        onClick: e => this.handleNext(e)
      }, "Checkout"));
    } else if (this.state.page === 'form one') {
      return /*#__PURE__*/React.createElement(FormOne, null);
    } else if (this.state.page === 'form two') {
      return /*#__PURE__*/React.createElement(FormTwo, null);
    } else if (this.state.page === 'form three') {
      return /*#__PURE__*/React.createElement(FormThree, null);
    } else if (this.state.page === 'confirmation') {
      return /*#__PURE__*/React.createElement(Confirmation, {
        userData: this.state.user
      });
    }
  }

} // form one component


var FormOne = function (props) {
  var currentPage = 'form one';
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("form", {
    className: "form form-one",
    onSubmit: e => App.prototype.handleNext(e)
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "name",
    id: "name",
    maxLength: "30",
    placeholder: "Name"
  }), /*#__PURE__*/React.createElement("input", {
    type: "email",
    name: "email",
    id: "email",
    placeholder: "Email Address"
  }), /*#__PURE__*/React.createElement("input", {
    type: "password",
    name: "password",
    id: "password",
    maxLength: "30",
    placeholder: "Password"
  }), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    name: "form-one-next",
    className: "next-button"
  }, "Next")));
}; // form two component


var FormTwo = function (props) {
  var currentPage = 'form two';
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("form", {
    className: "form form-two",
    onSubmit: e => App.prototype.handleNext(e)
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "addressOne",
    id: "addressOne",
    placeholder: "Address Line 1"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "addressTwo",
    id: "addressTwo",
    placeholder: "Address Line 2"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "city",
    id: "city",
    maxLength: "30",
    placeholder: "City"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    name: "state",
    id: "state",
    maxLength: "23",
    placeholder: "State"
  }), /*#__PURE__*/React.createElement("input", {
    type: "number",
    name: "zip",
    id: "zip",
    maxLength: "12",
    placeholder: "Zip Code"
  }), /*#__PURE__*/React.createElement("input", {
    type: "tel",
    name: "tel",
    id: "tel",
    placeholder: "Phone"
  }), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    name: "form-two-next",
    className: "next-button"
  }, "Next")));
}; // form three component


var FormThree = function (props) {
  var currentPage = 'form three';
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("form", {
    className: "form form-two",
    onSubmit: e => App.prototype.handleNext(e)
  }, /*#__PURE__*/React.createElement("input", {
    type: "number",
    name: "creditCard",
    id: "creditCard",
    maxLength: "20",
    placeholder: "Credit Card"
  }), /*#__PURE__*/React.createElement("input", {
    type: "date",
    name: "expiration",
    id: "expiration",
    placeholder: "Expiration Date"
  }), /*#__PURE__*/React.createElement("input", {
    type: "number ",
    name: "cvv",
    id: "cvv",
    maxLength: "4",
    placeholder: "CVV"
  }), /*#__PURE__*/React.createElement("input", {
    type: "number",
    name: "billingZip",
    id: "billingZip",
    maxLength: "12",
    placeholder: "Billing Zip Code"
  }), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    name: "form-three-next",
    className: "next-button"
  }, "Next")));
}; // confirmation component\


var Confirmation = function (props) {
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Contact Info"), /*#__PURE__*/React.createElement("p", null, "Name: ", props.userData.name), /*#__PURE__*/React.createElement("p", null, "Address line 1: ", props.userData.addressOne), /*#__PURE__*/React.createElement("p", null, "Address line 2: ", props.userData.addressTwo), /*#__PURE__*/React.createElement("p", null, "City: ", props.userData.city), /*#__PURE__*/React.createElement("p", null, "State: ", props.userData.state), /*#__PURE__*/React.createElement("p", null, "Zip Code: ", props.userData.zip), /*#__PURE__*/React.createElement("h3", null, "Billing Info"), /*#__PURE__*/React.createElement("p", null, "Credit Card: ", props.userData.creditCard), /*#__PURE__*/React.createElement("p", null, "CVV: ", props.userData.cvv), /*#__PURE__*/React.createElement("p", null, "Expiration Date: ", props.userData.expiration), /*#__PURE__*/React.createElement("p", null, "Billing Zip: ", props.userData.billingZip), /*#__PURE__*/React.createElement("button", {
    type: "button",
    name: "confirmation-button",
    className: "confirmation-button",
    onClick: e => App.prototype.handleNext(e)
  }, "Purchase"));
}; // export default App;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2NsaWVudC9jb21wb25lbnRzL0FwcC5qc3giXSwibmFtZXMiOlsiQXBwIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJwYWdlIiwidXNlciIsInByb3RvdHlwZSIsImhhbmRsZU5leHQiLCJiaW5kIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJGZvcm0iLCIkIiwidGFyZ2V0IiwiZm9ybURhdGEiLCJzZXJpYWxpemVBcnJheSIsIm5ld1VzZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJsZW5ndGgiLCJmb3JFYWNoIiwiaW5wdXQiLCJjb25zb2xlIiwibG9nIiwic2VsZiIsImN1cnJlbnRQYWdlIiwibmV4dFBhZ2UiLCJheGlvcyIsInBvc3QiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJzZXRTdGF0ZSIsImNhdGNoIiwiZXJyb3IiLCJpZCIsImFkZHJlc3NPbmUiLCJhZGRyZXNzVHdvIiwiY2l0eSIsInppcCIsInRlbCIsImNyZWRpdENhcmQiLCJjdnYiLCJleHBpcmF0aW9uIiwiYmlsbGluZ1ppcCIsInJlbmRlciIsIkZvcm1PbmUiLCJGb3JtVHdvIiwiRm9ybVRocmVlIiwiQ29uZmlybWF0aW9uIiwidXNlckRhdGEiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQU4sU0FBa0JDLEtBQUssQ0FBQ0MsU0FBeEIsQ0FBa0M7QUFDaENDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsTUFBQUEsSUFBSSxFQUFFLE1BREs7QUFFWEMsTUFBQUEsSUFBSSxFQUFFO0FBRkssS0FBYjtBQUtBUCxJQUFBQSxHQUFHLENBQUNRLFNBQUosQ0FBY0MsVUFBZCxHQUEyQlQsR0FBRyxDQUFDUSxTQUFKLENBQWNDLFVBQWQsQ0FBeUJDLElBQXpCLENBQThCLElBQTlCLENBQTNCO0FBQ0Q7O0FB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SUFBQSxTQUFTLEVBQUM7QUFBdkQsWUFMRixDQURGLENBREY7QUFXRCxDQWJELEMsQ0FlQTs7O0FBQ0EsSUFBSTJDLFlBQVksR0FBRyxVQUFVbEQsS0FBVixFQUFpQjtBQUNsQyxzQkFDRSw4Q0FDRSwrQ0FERixlQUVJLHlDQUFVQSxLQUFLLENBQUNtRCxRQUFOLENBQWV4QixJQUF6QixDQUZKLGVBR0ksbURBQW9CM0IsS0FBSyxDQUFDbUQsUUFBTixDQUFlZCxVQUFuQyxDQUhKLGVBSUksbURBQW9CckMsS0FBSyxDQUFDbUQsUUFBTixDQUFlYixVQUFuQyxDQUpKLGVBS0kseUNBQVV0QyxLQUFLLENBQUNtRCxRQUFOLENBQWVaLElBQXpCLENBTEosZUFNSSwwQ0FBV3ZDLEtBQUssQ0FBQ21ELFFBQU4sQ0FBZWxELEtBQTFCLENBTkosZUFPSSw2Q0FBY0QsS0FBSyxDQUFDbUQsUUFBTixDQUFlWCxHQUE3QixDQVBKLGVBUUUsK0NBUkYsZUFTSSxnREFBaUJ4QyxLQUFLLENBQUNtRCxRQUFOLENBQWVULFVBQWhDLENBVEosZUFVSSx3Q0FBUzFDLEtBQUssQ0FBQ21ELFFBQU4sQ0FBZVIsR0FBeEIsQ0FWSixlQVdJLG9EQUFxQjNDLEtBQUssQ0FBQ21ELFFBQU4sQ0FBZVAsVUFBcEMsQ0FYSixlQVlJLGdEQUFpQjVDLEtBQUssQ0FBQ21ELFFBQU4sQ0FBZU4sVUFBaEMsQ0FaSixlQWFFO0FBQVEsSUFBQSxJQUFJLEVBQUMsUUFBYjtBQUFzQixJQUFBLElBQUksRUFBQyxxQkFBM0I7QUFBaUQsSUFBQSxTQUFTLEVBQUMscUJBQTNEO0FBQWlGLElBQUEsT0FBTyxFQUFHdEMsQ0FBRCxJQUFPWCxHQUFHLENBQUNRLFNBQUosQ0FBY0MsVUFBZCxDQUF5QkUsQ0FBekI7QUFBakcsZ0JBYkYsQ0FERjtBQWlCRCxDQWxCRCxDLENBb0JBIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBwIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHBhZ2U6ICdob21lJyxcbiAgICAgIHVzZXI6IHt9XG4gICAgfTtcblxuICAgIEFwcC5wcm90b3R5cGUuaGFuZGxlTmV4dCA9IEFwcC5wcm90b3R5cGUuaGFuZGxlTmV4dC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlTmV4dCAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIC8vIHN0b3JlIGlucHV0IGZpZWxkIG5hbWUgYW5kIHZhbHVlXG4gICAgLy8gYXMgYSBrZXkgdmFsdWUgcGFpciBpbiBhbiBhcnJheSBvZiBvYmplY3RzXG4gICAgdmFyICRmb3JtID0gJChlLnRhcmdldCk7XG4gICAgdmFyIGZvcm1EYXRhID0gJGZvcm0uc2VyaWFsaXplQXJyYXkoKTtcbiAgICB2YXIgbmV3VXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUudXNlcik7XG5cbiAgICAvLyBpbnNlcnRpbmcgZm9ybSBkYXRhIGludG8gYW4gb2JqZWN0IHdoaWNoIHdlIHdpbGwgdXNlIHRvIHNldCBzdGF0ZVxuICAgIGlmIChmb3JtRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3JtRGF0YS5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICBuZXdVc2VyW2lucHV0W1wibmFtZVwiXV0gPSBpbnB1dFtcInZhbHVlXCJdO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2cobmV3VXNlcik7XG5cbiAgICAvL3N0b3JlIHRoaXMgY29udGV4dCBpbiBhIHZhcmlhYmxlIGZvciBwcm9taXNlIGZ1bmN0aW9uXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gc2V0IGN1cnJlbnQgcGFnZSBzdGF0ZSBiYXNlZCBvbiB3aGVyZSBuZXh0IGlzIGNsaWNrZWRcbiAgICB2YXIgY3VycmVudFBhZ2UgPSB0aGlzLnN0YXRlLnBhZ2U7XG4gICAgdmFyIG5leHRQYWdlO1xuICAgIGlmIChjdXJyZW50UGFnZSA9PT0gJ2hvbWUnKSB7IG5leHRQYWdlID0gJ2Zvcm0gb25lJzsgfVxuICAgIGlmIChjdXJyZW50UGFnZSA9PT0gJ2Zvcm0gb25lJykge1xuICAgICAgbmV4dFBhZ2UgPSAnZm9ybSB0d28nO1xuXG4gICAgICAvLyBhcGkgY2FsbCB0byBwb3N0IGRhdGEgZnJvbSBmb3JtIG9uZVxuICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2Zvcm1PbmUnLCB7XG4gICAgICAgIG5hbWU6IG5ld1VzZXJbJ25hbWUnXSxcbiAgICAgICAgZW1haWw6IG5ld1VzZXJbJ2VtYWlsJ10sXG4gICAgICAgIHBhc3N3b3JkOiBuZXdVc2VyWydwYXNzd29yZCddXG4gICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgIC8vc2V0IHN0YXRlIHdpdGggdGhlIGlkIGZyb20gdGhlIGRhdGFiYXNlXG4gICAgICAgIG5ld1VzZXJbJ2lkJ10gPSByZXNwb25zZS5kYXRhO1xuICAgICAgICBzZWxmLnNldFN0YXRlKHtcbiAgICAgICAgICBwYWdlOiBuZXh0UGFnZSxcbiAgICAgICAgICB1c2VyOiBuZXdVc2VyXG4gICAgICAgIH0pO1xuICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50UGFnZSA9PT0gJ2Zvcm0gdHdvJykge1xuICAgICAgbmV4dFBhZ2UgPSAnZm9ybSB0aHJlZSc7XG5cbiAgICAgIC8vIGFwaSBjYWxsIHRvIHBvc3QgZGF0YSBmcm9tIGZvcm0gdHdvXG4gICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvZm9ybVR3bycsIHtcbiAgICAgICAgaWQ6IG5ld1VzZXJbJ2lkJ10sXG4gICAgICAgIGFkZHJlc3NPbmU6IG5ld1VzZXJbJ2FkZHJlc3NPbmUnXSxcbiAgICAgICAgYWRkcmVzc1R3bzogbmV3VXNlclsnYWRkcmVzc1R3byddLFxuICAgICAgICBjaXR5OiBuZXdVc2VyWydjaXR5J10sXG4gICAgICAgIHN0YXRlOiBuZXdVc2VyWydzdGF0ZSddLFxuICAgICAgICB6aXA6IG5ld1VzZXJbJ3ppcCddLFxuICAgICAgICB0ZWw6IG5ld1VzZXJbJ3RlbCddXG4gICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSh7XG4gICAgICAgICAgcGFnZTogbmV4dFBhZ2UsXG4gICAgICAgICAgdXNlcjogbmV3VXNlclxuICAgICAgICB9KTtcbiAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQYWdlID09PSAnZm9ybSB0aHJlZScpIHtcbiAgICAgIG5leHRQYWdlID0gJ2NvbmZpcm1hdGlvbic7XG5cbiAgICAgICAvLyBhcGkgY2FsbCB0byBwb3N0IGRhdGEgZnJvbSBmb3JtIHRocmVlXG4gICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2Zvcm1UaHJlZScsIHtcbiAgICAgICAgaWQ6IG5ld1VzZXJbJ2lkJ10sXG4gICAgICAgIGNyZWRpdENhcmQ6IG5ld1VzZXJbJ2NyZWRpdENhcmQnXSxcbiAgICAgICAgY3Z2OiBuZXdVc2VyWydjdnYnXSxcbiAgICAgICAgZXhwaXJhdGlvbjogbmV3VXNlclsnZXhwaXJhdGlvbiddLFxuICAgICAgICBiaWxsaW5nWmlwOiBuZXdVc2VyWydiaWxsaW5nWmlwJ11cbiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICBzZWxmLnNldFN0YXRlKHtcbiAgICAgICAgICBwYWdlOiBuZXh0UGFnZSxcbiAgICAgICAgICB1c2VyOiBuZXdVc2VyXG4gICAgICAgIH0pO1xuICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50UGFnZSA9PT0gJ2NvbmZpcm1hdGlvbicpIHtcbiAgICAgIG5leHRQYWdlID0gJ2hvbWUnO1xuICAgICAgbmV3VXNlciA9IHt9O1xuICAgICAgc2VsZi5zZXRTdGF0ZSh7XG4gICAgICAgIHBhZ2U6IG5leHRQYWdlLFxuICAgICAgICB1c2VyOiBuZXdVc2VyXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VycmVudFBhZ2UgPSAnaG9tZSc7XG4gICAgaWYgKHRoaXMuc3RhdGUucGFnZSA9PT0gJ2hvbWUnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrb3V0XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2hlY2tvdXQtY2FydFwiPkNhcnQ6PC9wPlxuICAgICAgICAgIDxpbWcgc3JjPVwicXVhbnR1bS5wbmdcIiBhbHQ9XCJudWthIGNvbGEgcXVhbnR1bVwiIGhlaWdodD1cIjEwMFwiIGNsYXNzTmFtZT1cImNoZWNrb3V0LWltYWdlXCI+PC9pbWc+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2hlY2tvdXQtcXVhbnRpdHlcIj5RdWFudGl0eTogMTI8L3A+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2hlY2tvdXQtYnV0dG9uXCIgb25DbGljaz17KGUpID0+IHRoaXMuaGFuZGxlTmV4dChlKX0+Q2hlY2tvdXQ8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5wYWdlID09PSAnZm9ybSBvbmUnKSB7XG4gICAgICByZXR1cm4gPEZvcm1PbmUgLz47XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnBhZ2UgPT09ICdmb3JtIHR3bycpIHtcbiAgICAgIHJldHVybiA8Rm9ybVR3byAvPjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUucGFnZSA9PT0gJ2Zvcm0gdGhyZWUnKSB7XG4gICAgICByZXR1cm4gPEZvcm1UaHJlZSAvPjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUucGFnZSA9PT0gJ2NvbmZpcm1hdGlvbicpIHtcbiAgICAgIHJldHVybiA8Q29uZmlybWF0aW9uIHVzZXJEYXRhPXt0aGlzLnN0YXRlLnVzZXJ9Lz47XG4gICAgfVxuICB9XG59XG5cbi8vIGZvcm0gb25lIGNvbXBvbmVudFxudmFyIEZvcm1PbmUgPSBmdW5jdGlvbihwcm9wcykge1xuICB2YXIgY3VycmVudFBhZ2UgPSAnZm9ybSBvbmUnO1xuICByZXR1cm4oXG4gICAgPGRpdj5cbiAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImZvcm0gZm9ybS1vbmVcIiBvblN1Ym1pdD17KGUpID0+IEFwcC5wcm90b3R5cGUuaGFuZGxlTmV4dChlKX0+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJuYW1lXCIgaWQ9XCJuYW1lXCIgbWF4TGVuZ3RoPVwiMzBcIiBwbGFjZWhvbGRlcj1cIk5hbWVcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBpZD1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJFbWFpbCBBZGRyZXNzXCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgaWQ9XCJwYXNzd29yZFwiIG1heExlbmd0aD1cIjMwXCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiLz5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgbmFtZT1cImZvcm0tb25lLW5leHRcIiBjbGFzc05hbWU9XCJuZXh0LWJ1dHRvblwiPk5leHQ8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gZm9ybSB0d28gY29tcG9uZW50XG52YXIgRm9ybVR3byA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHZhciBjdXJyZW50UGFnZSA9ICdmb3JtIHR3byc7XG4gIHJldHVybihcbiAgICA8ZGl2PlxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiZm9ybSBmb3JtLXR3b1wiIG9uU3VibWl0PXsoZSkgPT4gQXBwLnByb3RvdHlwZS5oYW5kbGVOZXh0KGUpfT5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImFkZHJlc3NPbmVcIiBpZD1cImFkZHJlc3NPbmVcIiBwbGFjZWhvbGRlcj1cIkFkZHJlc3MgTGluZSAxXCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiYWRkcmVzc1R3b1wiIGlkPVwiYWRkcmVzc1R3b1wiIHBsYWNlaG9sZGVyPVwiQWRkcmVzcyBMaW5lIDJcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJjaXR5XCIgaWQ9XCJjaXR5XCIgbWF4TGVuZ3RoPVwiMzBcIiBwbGFjZWhvbGRlcj1cIkNpdHlcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzdGF0ZVwiIGlkPVwic3RhdGVcIiBtYXhMZW5ndGg9XCIyM1wiIHBsYWNlaG9sZGVyPVwiU3RhdGVcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cInppcFwiIGlkPVwiemlwXCIgbWF4TGVuZ3RoPVwiMTJcIiBwbGFjZWhvbGRlcj1cIlppcCBDb2RlXCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRlbFwiIG5hbWU9XCJ0ZWxcIiBpZD1cInRlbFwiIHBsYWNlaG9sZGVyPVwiUGhvbmVcIi8+XG4gICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJmb3JtLXR3by1uZXh0XCIgY2xhc3NOYW1lPVwibmV4dC1idXR0b25cIj5OZXh0PC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIGZvcm0gdGhyZWUgY29tcG9uZW50XG52YXIgRm9ybVRocmVlID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgdmFyIGN1cnJlbnRQYWdlID0gJ2Zvcm0gdGhyZWUnO1xuICByZXR1cm4oXG4gICAgPGRpdj5cbiAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImZvcm0gZm9ybS10d29cIiBvblN1Ym1pdD17KGUpID0+IEFwcC5wcm90b3R5cGUuaGFuZGxlTmV4dChlKX0+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cImNyZWRpdENhcmRcIiBpZD1cImNyZWRpdENhcmRcIiBtYXhMZW5ndGg9XCIyMFwiIHBsYWNlaG9sZGVyPVwiQ3JlZGl0IENhcmRcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIG5hbWU9XCJleHBpcmF0aW9uXCIgaWQ9XCJleHBpcmF0aW9uXCIgcGxhY2Vob2xkZXI9XCJFeHBpcmF0aW9uIERhdGVcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyIFwibmFtZT1cImN2dlwiIGlkPVwiY3Z2XCIgbWF4TGVuZ3RoPVwiNFwiIHBsYWNlaG9sZGVyPVwiQ1ZWXCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJiaWxsaW5nWmlwXCIgaWQ9XCJiaWxsaW5nWmlwXCIgbWF4TGVuZ3RoPVwiMTJcIiBwbGFjZWhvbGRlcj1cIkJpbGxpbmcgWmlwIENvZGVcIi8+XG4gICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJmb3JtLXRocmVlLW5leHRcIiBjbGFzc05hbWU9XCJuZXh0LWJ1dHRvblwiPk5leHQ8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIGNvbmZpcm1hdGlvbiBjb21wb25lbnRcXFxudmFyIENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8aDM+Q29udGFjdCBJbmZvPC9oMz5cbiAgICAgICAgPHA+TmFtZToge3Byb3BzLnVzZXJEYXRhLm5hbWV9PC9wPlxuICAgICAgICA8cD5BZGRyZXNzIGxpbmUgMToge3Byb3BzLnVzZXJEYXRhLmFkZHJlc3NPbmV9PC9wPlxuICAgICAgICA8cD5BZGRyZXNzIGxpbmUgMjoge3Byb3BzLnVzZXJEYXRhLmFkZHJlc3NUd299PC9wPlxuICAgICAgICA8cD5DaXR5OiB7cHJvcHMudXNlckRhdGEuY2l0eX08L3A+XG4gICAgICAgIDxwPlN0YXRlOiB7cHJvcHMudXNlckRhdGEuc3RhdGV9PC9wPlxuICAgICAgICA8cD5aaXAgQ29kZToge3Byb3BzLnVzZXJEYXRhLnppcH08L3A+XG4gICAgICA8aDM+QmlsbGluZyBJbmZvPC9oMz5cbiAgICAgICAgPHA+Q3JlZGl0IENhcmQ6IHtwcm9wcy51c2VyRGF0YS5jcmVkaXRDYXJkfTwvcD5cbiAgICAgICAgPHA+Q1ZWOiB7cHJvcHMudXNlckRhdGEuY3Z2fTwvcD5cbiAgICAgICAgPHA+RXhwaXJhdGlvbiBEYXRlOiB7cHJvcHMudXNlckRhdGEuZXhwaXJhdGlvbn08L3A+XG4gICAgICAgIDxwPkJpbGxpbmcgWmlwOiB7cHJvcHMudXNlckRhdGEuYmlsbGluZ1ppcH08L3A+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBuYW1lPVwiY29uZmlybWF0aW9uLWJ1dHRvblwiIGNsYXNzTmFtZT1cImNvbmZpcm1hdGlvbi1idXR0b25cIiBvbkNsaWNrPXsoZSkgPT4gQXBwLnByb3RvdHlwZS5oYW5kbGVOZXh0KGUpfT5QdXJjaGFzZTwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gZXhwb3J0IGRlZmF1bHQgQXBwOyJdfQ==